<h1><%=title%></h1>
<div class="text-end mb-2" id="buttons">
    <a href="/posts/update?pid=<%=post.pid%>"  class="btn btn-info btn-sm update>
        <button">수정</button> <!-- 버튼 작게 btn-sm -->
    </a> 
    
    <button class="btn btn-danger btn-sm delete">삭제</button>
</div>
<div class="card p-3">
    <div class="card-body">
        <div>[<%=post.pid%>] <%=post.title%></div> <!--%서버명령어를 칠수 있는거, = 프린트 명령이랑 비슷 -->
        <hr>
        <div><%-post.contents.replace(/\n/g, '<br/>')%></div>
    </div>
    <div class="card-footer" style="font-size: 12px; color: gray;">
        <span>작성자 : <%=post.writer%></span>
        <span class="ms-3">작성일 : <%=post.fdate%> </span>
    </div>
</div>
<script>
    const writer="<%=post.writer%>";
    if(uid==writer) {
        $("#buttons").show();
    }
    else {
        $("#buttons").hide();
    }

    $("#buttons").on("click", ".delete", function(e){
        //alert('..');
        const pid="<%=post.pid%>";
        if(confirm(`${pid}번 게시글을 삭제하시겠습니까?`)) {
            //삭제작업
            location.href="/posts/delete?pid=" + pid;
        }

    });

    // $("#buttons").on("click", ".update", function(e){
    //     //alert('..');
    //     const pid="<%=post.pid%>";
    //     if(confirm(`${pid}번 게시글을 수정하시겠습니까?`)) {
    //         //수정작업
    //         location.href="/posts/update?pid=" + pid;
    //     }
    // });
</script>

